// Chart made in graphwiz https://graphviz.org/

digraph G {
// splines="FALSE";
rankdir=LR;
pad=0.2;
edge [
  fontname="'Fira Code', monospace"
  color="#8a8e9b"
]
node [
  fontname="'Fira Code', monospace",
  shape="box",
  style="filled,rounded"
  width=2
]


// Events
node [color="#ffcccc"]
initTriggered
syncTriggered
loggedIn
logOutTriggered
localDataLoaded

dataSyncedRaw
dataSynced
resetData
tokenSet


// Effects
node [color="#aabaff"]
loadLocalDataFx
syncFx
saveDataFx
clearLocalDataFx
sendUpdatesFx


// Stores
node [color="#c4e5fe"]
serverData
token

token -> sendUpdatesFx
serverData -> sendUpdatesFx

loadLocalDataFx -> localDataLoaded -> {
  token
  serverData
}

logOutTriggered -> {
  token
  serverData
  clearLocalDataFx
}



// Derivatives
// serverData -> {
//   serverTimestamp
//   instrument
//   country
//   company
//   user
//   account
//   merchant
//   tag
//   budget
//   reminder
//   reminderMarker
//   transaction
// }
}
